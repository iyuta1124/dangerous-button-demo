<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æœ¬ç•ªç’°å¢ƒç®¡ç†ç”»é¢</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <h1>æœ¬ç•ªç’°å¢ƒç®¡ç†ç”»é¢</h1>

      <div class="warning">
        âš ï¸ ã“ã‚Œã¯ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã§ã™ã€‚å®Ÿéš›ã«ç ´å£Šã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
      </div>

      <div class="button-area">
        <button class="btn-danger destroy-button" onclick="handleDestroy()">
          ğŸ”¥ æœ¬ç•ªç’°å¢ƒã‚’ç ´å£Šã™ã‚‹ ğŸ”¥
        </button>
      </div>

      <div class="code-section">
        <div class="usage">
            <strong>ä½¿ã„æ–¹ï¼š</strong><br />
            1. Tampermonkeyæ‹¡å¼µæ©Ÿèƒ½ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br />
            2. ä¸‹è¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’æ–°ã—ã„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨ã—ã¦ç™»éŒ²<br />
            3. ã“ã®ãƒšãƒ¼ã‚¸ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦ç¢ºèª
        </div>

        <div style="position: relative">
          <button
            onclick="copyCode(this)"
            style="position: absolute; top: 4px; right: 4px; z-index: 1"
          >
            ã‚³ãƒ”ãƒ¼
          </button>
          <div class="code" style="overflow-x: auto">
            <!-- ã“ã“ã«tamper-monkey.jsã®å†…å®¹ãŒå‹•çš„ã«èª­ã¿è¾¼ã¾ã‚Œã¾ã™ -->
            // ==UserScript==
            // @name         æœ¬ç•ªç’°å¢ƒç ´å£Šãƒœã‚¿ãƒ³åˆ¶å¾¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
            // @description  æœ¬ç•ªç’°å¢ƒç ´å£Šãªãƒœã‚¿ãƒ³ã®è¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ¶å¾¡ã—ã¾ã™
            // @match        https://iyuta1124.github.io/dangerous-button-demo/
            // @grant        none
            // ==/UserScript==
            
            (function() {
                'use strict';
            
                const style = document.createElement('style');
                style.textContent = `
                    .tampermonkey-control {
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        z-index: 9999;
                        background: #007bff;
                        color: white;
                        border: none;
                        padding: 12px 20px;
                        font-size: 14px;
                        font-weight: bold;
                        border-radius: 8px;
                        cursor: pointer;
                    }
                    .tampermonkey-control:hover {
                        background:  #0056b3
                    }
                `;
                document.head.appendChild(style);
            
                let isHidden = false;
            
                const controlButton = document.createElement('button');
                controlButton.className = 'tampermonkey-control';
                controlButton.textContent = 'æœ¬ç•ªç’°å¢ƒç ´å£Šãƒœã‚¿ãƒ³ã‚’éš ã™';
                function toggleDangerousButtons() {
                    const dangerousButtons = document.querySelectorAll('button');
                    
                    dangerousButtons.forEach(button => {
                        if ( button.classList.contains('destroy-button')) {
                            if (isHidden) {
                                button.style.display = '';
                            } else {
                                button.style.display = 'none';
                            }
                        }
                    });
                    
                    isHidden = !isHidden;
                    controlButton.textContent = isHidden ? 'æœ¬ç•ªç’°å¢ƒç ´å£Šãƒœã‚¿ãƒ³ã‚’è¡¨ç¤º' : 'æœ¬ç•ªç’°å¢ƒç ´å£Šãƒœã‚¿ãƒ³ã‚’éš ã™';
                }
            
                controlButton.addEventListener('click', toggleDangerousButtons);
                
                document.body.appendChild(controlButton);
                
            })();
          </div>
        </div>


      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
